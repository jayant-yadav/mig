From a5198f73bed1641f3c2b51078af06e5bd0816520 Mon Sep 17 00:00:00 2001
From: jayant-yadav <jayantyadav202@gmail.com>
Date: Thu, 16 Mar 2017 22:30:10 +0530
Subject: [PATCH] removed make error

---
 mig-api/investigator_endpoints.go | 17 +++++++----------
 1 file changed, 7 insertions(+), 10 deletions(-)

diff --git a/mig-api/investigator_endpoints.go b/mig-api/investigator_endpoints.go
index 59b6ce4..62a4d27 100644
--- a/mig-api/investigator_endpoints.go
+++ b/mig-api/investigator_endpoints.go
@@ -170,17 +170,15 @@ func updateInvestigator(respWriter http.ResponseWriter, request *http.Request) {
 	invperm := request.FormValue("permissions")
 	if inv.Status == "" && invperm == "" {
 		panic("No updates to the investigator were specified")
-	}
-	else{
-		if inv.Status != "" && invperm==""{
+	} else {
+		if inv.Status != "" && invperm == "" {
 			// update the investigator status in database
 			err = ctx.DB.UpdateInvestigatorStatus(inv)
 			if err != nil {
 				panic(err)
 			}
 			ctx.Channels.Log <- mig.Log{OpID: opid, Desc: fmt.Sprintf("Investigator %.0f status changed to %s", inv.ID, inv.Status)}
-		}
-		else if inv.Status == "" && invperm!=""{
+		} else if inv.Status == "" && invperm != "" {
 			err = json.Unmarshal([]byte(invperm), &inv.Permissions)
 			if err != nil {
 				panic(err)
@@ -190,12 +188,11 @@ func updateInvestigator(respWriter http.ResponseWriter, request *http.Request) {
 				panic(err)
 			}
 			ctx.Channels.Log <- mig.Log{OpID: opid, Desc: fmt.Sprintf("Investigator %.0f permissions changed", inv.ID)}
-		}
-		else {
+		} else {
 			// when both status and permissions are changed
-			errStatus = ctx.DB.UpdateInvestigatorStatus(inv)
-			errInvperm = json.Unmarshal([]byte(invperm), &inv.Permissions)
-			if errStatus != nil || errInvperm!= nil {
+			var errStatus = ctx.DB.UpdateInvestigatorStatus(inv)
+			var errInvperm = json.Unmarshal([]byte(invperm), &inv.Permissions)
+			if errStatus != nil || errInvperm != nil {
 				panic(err)
 			}
 			ctx.Channels.Log <- mig.Log{OpID: opid, Desc: fmt.Sprintf("Investigator %.0f permissions changed and status changed to %s", inv.ID, inv.Status)}
-- 
2.7.4

